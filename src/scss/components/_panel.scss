// Panel Component Styles
// This file defines consistent panel styling for all tools

// Base panel container
.panel {
  display: flex;
  flex-direction: column;
  background-color: var(--tool-bg);
  border: $border-width-thin solid var(--tool-border);
  border-radius: $border-radius-md;
  overflow: hidden;
  height: 100%;
  font-family: $font-family-sans;
  
  // Panel header
  .panel-header {
    padding: $spacing-md;
    background-color: var(--tool-header);
    border-bottom: $border-width-thin solid var(--tool-border);
    
    h3 {
      margin: 0;
      font-size: $font-size-lg;
      font-weight: $font-weight-medium;
      color: var(--fg-primary);
    }
  }
  
  // Panel content
  .panel-content {
    flex: 1;
    padding: $spacing-md;
    overflow-y: auto;
    @include styled-scrollbar;
    
    // Common section styles
    .section {
      margin-bottom: $spacing-lg;
      
      &:last-child {
        margin-bottom: 0;
      }
      
      h4 {
        margin: 0 0 $spacing-sm;
        font-size: $font-size-md;
        font-weight: $font-weight-medium;
        color: var(--fg-primary);
      }
    }
  }
}

// Apply these styles to all tool panels
// This ensures consistent styling regardless of the tool's specific class
[class*="-panel"] {
  @extend .panel;
}

// Common tool component styles

// Status indicators
.status-text {
  font-size: $font-size-sm;
  padding: $spacing-xs $spacing-sm;
  border-radius: $border-radius-sm;
  
  &.status-error {
    background-color: rgba(var(--error-rgb), 0.1);
    color: var(--error);
  }
  
  &.status-success {
    background-color: rgba(var(--success-rgb), 0.1);
    color: var(--success);
  }
  
  &.status-warning {
    background-color: rgba(var(--warning-rgb), 0.1);
    color: var(--warning);
  }
}

// Results containers
.results-container {
  margin-top: $spacing-md;
  border: $border-width-thin solid var(--tool-border);
  border-radius: $border-radius-sm;
  overflow: hidden;
  
  .empty-message {
    padding: $spacing-md;
    color: var(--fg-muted);
    text-align: center;
    font-style: italic;
  }
  
  .loading-message {
    padding: $spacing-md;
    color: var(--fg-muted);
    text-align: center;
  }
}

// Controls sections
.controls-section {
  display: flex;
  flex-wrap: wrap;
  gap: $spacing-sm;
  margin-bottom: $spacing-md;
  
  button {
    @include button-secondary;
    
    &.primary-button {
      @include button-primary;
    }
    
    &.danger-button {
      background-color: var(--error);
      color: white;
      
      &:hover {
        background-color: darken(var(--error), 10%);
      }
    }
  }
}

// Tool specific style adjustments

// Storage Inspector
.storage-inspector-panel {
  .storage-tabs {
    display: flex;
    border-bottom: $border-width-thin solid var(--tool-border);
    margin-bottom: $spacing-md;
    
    .storage-tab {
      padding: $spacing-sm $spacing-md;
      cursor: pointer;
      
      &.active {
        color: var(--accent);
        border-bottom: $border-width-medium solid var(--accent);
      }
    }
  }
}

// Font Inspector
.font-inspector-panel {
  .font-preview {
    border: $border-width-thin solid var(--tool-border);
    padding: $spacing-md;
    border-radius: $border-radius-sm;
    margin-bottom: $spacing-md;
    overflow-x: auto;
  }
}

// Performance Monitor
.performance-monitor-panel {
  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: $spacing-md;
    
    .metric-gauge {
      background-color: var(--bg-highlight);
      padding: $spacing-md;
      border-radius: $border-radius-sm;
      text-align: center;
      
      .gauge-value {
        font-size: $font-size-lg;
        font-weight: $font-weight-bold;
        color: var(--accent);
      }
    }
  }
}

// CSS Validator
.css-validator-panel {
  .issue-item {
    border: $border-width-thin solid var(--tool-border);
    border-radius: $border-radius-sm;
    padding: $spacing-sm;
    margin-bottom: $spacing-sm;
    
    .issue-rule {
      font-family: $font-family-mono;
      font-size: $font-size-xs;
      background-color: var(--bg-highlight);
      padding: $spacing-xs;
      border-radius: $border-radius-sm;
      display: block;
      overflow-x: auto;
      margin-top: $spacing-xs;
    }
  }
}

// Responsive Checker
.responsive-checker-panel {
  .device-selection-section, 
  .custom-size-section,
  .preview-section {
    margin-bottom: $spacing-lg;
    
    h4 {
      font-size: $font-size-md;
      font-weight: $font-weight-medium;
      margin-bottom: $spacing-md;
      color: var(--fg-primary);
    }
  }
  
  .device-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: $spacing-sm;
    margin-bottom: $spacing-md;
    
    .device-item {
      border: $border-width-thin solid var(--tool-border);
      border-radius: $border-radius-sm;
      padding: $spacing-sm;
      cursor: pointer;
      transition: all 0.2s ease;
      
      &:hover {
        background-color: rgba(var(--accent-rgb), 0.05);
        border-color: var(--accent);
      }
      
      &.selected {
        border-color: var(--accent);
        background-color: rgba(var(--accent-rgb), 0.1);
      }
      
      .device-name {
        font-weight: $font-weight-medium;
        margin-bottom: $spacing-xs;
      }
      
      .device-size {
        font-size: $font-size-xs;
        color: var(--fg-muted);
      }
    }
  }
  
  .custom-inputs {
    display: flex;
    gap: $spacing-sm;
    align-items: center;
    
    input {
      flex: 1;
      padding: $spacing-xs $spacing-sm;
      border: $border-width-thin solid var(--tool-border);
      border-radius: $border-radius-sm;
      background-color: var(--bg-input);
      color: var(--fg-primary);
      
      &:focus {
        border-color: var(--accent);
        outline: none;
      }
      
      &::placeholder {
        color: var(--fg-muted);
      }
    }
    
    button {
      @include button-primary;
    }
  }
  
  .preview-section {
    .preview-button {
      @include button-primary;
      width: 100%;
      padding: $spacing-sm;
      font-weight: $font-weight-medium;
    }
  }
}

.responsive-preview-container {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--tool-bg);
  border: $border-width-thin solid var(--tool-border);
  border-radius: $border-radius-md;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  z-index: 999999;
  overflow: hidden;
  transition: width 0.3s ease, height 0.3s ease;
  
  .preview-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: $spacing-sm $spacing-md;
    background-color: var(--tool-header);
    border-bottom: $border-width-thin solid var(--tool-border);
    
    .preview-title {
      font-weight: $font-weight-medium;
      color: var(--fg-primary);
    }
    
    .preview-close {
      background: none;
      border: none;
      font-size: $font-size-lg;
      color: var(--fg-muted);
      cursor: pointer;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      
      &:hover {
        background-color: rgba(var(--error-rgb), 0.1);
        color: var(--error);
      }
    }
  }
  
  .preview-frame-container {
    padding: $spacing-md;
    overflow: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--bg-highlight);
    
    .preview-iframe {
      border: $border-width-thin solid var(--tool-border);
      background-color: white; // Always white for website rendering
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transform: scale(1);
      transform-origin: top left;
      transition: width 0.3s ease, height 0.3s ease;
    }
  }
}

// JS Validator
.js-validator-panel {
  .status-section {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: $spacing-md;
    
    .validate-button {
      @include button-primary;
      min-width: 120px;
    }
  }
  
  .results-section {
    margin-bottom: $spacing-md;
    
    h3 {
      font-size: $font-size-md;
      font-weight: $font-weight-medium;
      margin-bottom: $spacing-sm;
      color: var(--fg-primary);
      display: flex;
      align-items: center;
    }
    
    .results-content {
      border: $border-width-thin solid var(--tool-border);
      border-radius: $border-radius-sm;
      overflow: hidden;
      
      .empty-message {
        padding: $spacing-md;
        color: var(--fg-muted);
        text-align: center;
        font-style: italic;
      }
      
      .error-item, .warning-item {
        padding: $spacing-sm;
        border-bottom: $border-width-thin solid var(--tool-border);
        
        &:last-child {
          border-bottom: none;
        }
        
        .error-message, .warning-message {
          font-weight: $font-weight-medium;
          margin-bottom: $spacing-xs;
        }
        
        .error-source, .warning-source {
          font-size: $font-size-sm;
          color: var(--fg-muted);
          margin-bottom: $spacing-xs;
        }
        
        .error-line, .warning-line {
          font-family: $font-family-mono;
          font-size: $font-size-xs;
          background-color: var(--bg-highlight);
          padding: $spacing-xs;
          border-radius: $border-radius-sm;
          overflow-x: auto;
          white-space: pre;
        }
        
        &.error-item {
          background-color: rgba(var(--error-rgb), 0.05);
          
          .error-message {
            color: var(--error);
          }
        }
        
        &.warning-item {
          background-color: rgba(var(--warning-rgb), 0.05);
          
          .warning-message {
            color: var(--warning);
          }
        }
      }
    }
  }
  
  .scripts-section {
    h3 {
      font-size: $font-size-md;
      font-weight: $font-weight-medium;
      margin-bottom: $spacing-sm;
      color: var(--fg-primary);
      cursor: pointer;
      display: flex;
      align-items: center;
      
      &::after {
        content: '';
        display: inline-block;
        width: 0;
        height: 0;
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-top: 5px solid var(--fg-muted);
        margin-left: $spacing-xs;
        transition: transform 0.2s ease;
      }
    }
    
    .scripts-content {
      border: $border-width-thin solid var(--tool-border);
      border-radius: $border-radius-sm;
      max-height: 300px;
      overflow-y: auto;
      transition: max-height 0.3s ease;
      
      &.collapsed {
        max-height: 0;
        border: none;
        overflow: hidden;
      }
      
      .script-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: $spacing-sm;
        border-bottom: $border-width-thin solid var(--tool-border);
        
        &:last-child {
          border-bottom: none;
        }
        
        &[data-errors]:not([data-errors="0"]) {
          background-color: rgba(var(--error-rgb), 0.05);
        }
        
        &[data-warnings]:not([data-warnings="0"]):not([data-errors]):not([data-errors="0"]) {
          background-color: rgba(var(--warning-rgb), 0.05);
        }
        
        .script-info {
          flex: 1;
          display: flex;
          flex-direction: column;
          
          .script-name {
            font-weight: $font-weight-medium;
            margin-bottom: $spacing-xs;
          }
          
          .script-path {
            font-size: $font-size-xs;
            color: var(--fg-muted);
            word-break: break-all;
          }
        }
        
        .script-issue-counts {
          display: flex;
          gap: $spacing-xs;
          margin-left: $spacing-sm;
          
          .error-count {
            color: var(--error);
            font-size: $font-size-xs;
            background-color: rgba(var(--error-rgb), 0.1);
            padding: 2px 6px;
            border-radius: $border-radius-sm;
          }
          
          .warning-count {
            color: var(--warning);
            font-size: $font-size-xs;
            background-color: rgba(var(--warning-rgb), 0.1);
            padding: 2px 6px;
            border-radius: $border-radius-sm;
          }
        }
        
        .validate-script-btn {
          @include button-secondary;
          font-size: $font-size-xs;
          padding: 2px 8px;
        }
      }
    }
  }
} 